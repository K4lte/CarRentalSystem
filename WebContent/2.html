<!DOCTYPE html>
<html lang="en">
<head>
<style>
#cars {
  font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 70%;
}

#cars td, #cars th {
  border: 1px solid #ddd;
  padding: 8px;
}

#cars tr:nth-child(even){background-color: #f2f2f2;}

#cars tr:hover {background-color: #ddd;}

#cars th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: center;
  background-color: #52af2b;
  color: white;
  }
  
#select {
  background-color: #ff7f11;
  border: none;
  color: white;
  padding: 5px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
</style>

    <meta charset="UTF-8">
    <title>Rental Cars</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link href="style/style0.css" rel="stylesheet">
</head>
<body onload='initialize()'>

<div class="wrapper">

    <header class="header">

        
    </header><!-- .header-->

    <div class="middle" id="middle">

        <div class="container" id="container">        
            
            
                
                <b> Available cars:</b>
                <div id="info"></div>
                <br>              
                <form method="POST" action="offer">
                	<div id="available"> </div>
                </form>                        
        
        </div><!-- .container-->
    </div><!-- .middle-->

</div><!-- .wrapper -->




<footer class="footer">
    <strong>Footer:</strong>
</footer><!-- .footer -->

</body>

<script type="text/javascript" src="js/common.js" defer></script>

<script type="text/javascript">

function initialize(){
    getData("car_search");
}

function showTable(request){
	parsedJSON = JSON.parse(request.responseText);	
	var div = document.getElementById("available");
	
	for (var i = 0; i < parsedJSON.length; i++) {
		// creates a <table> element 
		let table = document.createElement("table");
		//table.setAttribute("border", "1px solid black");
		table.setAttribute("id", "cars");
        let row = table.insertRow(0);
          let cell = document.createElement('th');          
		//cell = row.insertCell(0);
        cell.setAttribute("colspan", "2");
        cell.innerHTML = parsedJSON[i].brand.brandName + " " + parsedJSON[i].model; 
        
           row.appendChild(cell);
   		// 1st row
        row = table.insertRow(1);  
        cell = row.insertCell(0);
        cell.innerHTML = "Category"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].category.typeName; 
        // 2nd row
        row = table.insertRow(2); 
        cell = row.insertCell(0);
        cell.innerHTML = "Year"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].productionYear; 
        // 3rd row
        row = table.insertRow(3); 
        cell = row.insertCell(0);
        cell.innerHTML = "Color"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].color.colorName; 
        // 4th row           
        row = table.insertRow(4);
        cell = row.insertCell(0);
        cell.innerHTML = "Transmission"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].transmission.name; 
        // 5th row
        row = table.insertRow(5);
        cell = row.insertCell(0);
        cell.innerHTML = "Number of Seats"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].numberOfSeats; 
        // 6th row
        row = table.insertRow(6);
        cell = row.insertCell(0);
        cell.innerHTML = "Number of Suitcases"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].numberOfSuitcases; 
        // 7th row
        row = table.insertRow(7);
        cell = row.insertCell(0);
        cell.innerHTML = "Air conditioning"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].airConditioning; 
        // 8th row
        row = table.insertRow(8);
        cell = row.insertCell(0);
        cell.innerHTML = "Rate Number"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].rateNumber; 
        // 9th row
        row = table.insertRow(9);
        cell = row.insertCell(0);
        cell.innerHTML = "Rental Price"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].rentalPrice; 
        // 10th row 
        row = table.insertRow(10);
        cell = row.insertCell(0);
        cell.innerHTML = "Total Rental"; 
        cell = row.insertCell(1);
        cell.innerHTML = parsedJSON[i].totalRental;       
        
        // 11th row        
        row = table.insertRow(11);
		let td = document.createElement('td');
		td.setAttribute("colspan", "2");
		td.setAttribute("align", "center");
		row.appendChild(td);
		//create a button
		let buttonSelect = document.createElement("input");
		buttonSelect.setAttribute('type', "submit");
		buttonSelect.setAttribute('value', "Select");
		buttonSelect.setAttribute('id', i);
	//	buttonSelect.setAttribute('onclick', 'selectCar(' + i +')');
		td.appendChild(buttonSelect);
		
		let hiddenId = document.createElement("input");
		hiddenId.setAttribute('type', "hidden");
		hiddenId.setAttribute('name', "hiddenId");
		hiddenId.setAttribute('value', parsedJSON[i].id);
		table.appendChild(hiddenId);
			
		//create a form
		let form = document.createElement("form");
		form.setAttribute('method',"POST");
		form.setAttribute('action',"car_select");
	//	form.setAttribute('action',"select");
		form.appendChild(table);		
		let br = document.createElement("br");
		form.appendChild(br);
		div.appendChild(form);
	}	
//	document.getElementById("middle").style.display = "block";
}
</script>

</html>

